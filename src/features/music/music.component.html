<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ -->
<div class="w-full flex flex-col lg:flex-row gap-6">

  <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ü–ª–µ–µ—Ä -->
  <div class="w-full lg:w-2/3 flex flex-col gap-4">
    <h2 class="text-2xl sm:text-3xl font-serif text-violet-300">–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π —É–≥–æ–ª–æ–∫</h2>
    <div class="aspect-w-16 aspect-h-9 bg-neutral-800 rounded-xl shadow-lg border border-neutral-700/50 overflow-hidden">
      @if (safeSelectedPlaylistUrl(); as url) {
        <iframe
          style="border-radius:12px"
          [src]="url"
          width="100%"
          height="100%"
          frameBorder="0"
          allowfullscreen=""
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy">
        </iframe>
      } @else {
        <div class="w-full h-full flex items-center justify-center">
          <p class="text-gray-500">–í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞.</p>
        </div>
      }
    </div>
  </div>

  <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –°–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –∏ —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
  <div class="w-full lg:w-1/3 flex flex-col gap-6">
    <!-- –°–ø–∏—Å–æ–∫ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ -->
    <div class="bg-neutral-800/50 p-4 rounded-xl border border-neutral-700/50 flex flex-col gap-3">
      <h3 class="font-serif text-xl text-gray-300">–ú–æ–∏ –ø–ª–µ–π–ª–∏—Å—Ç—ã</h3>
      <div class="max-h-60 overflow-y-auto pr-2">
        @for (playlist of playlists(); track playlist.id) {
          <div 
            (click)="selectPlaylist(playlist)"
            [class.bg-violet-500/20]="selectedPlaylist()?.id === playlist.id"
            class="flex justify-between items-center p-3 rounded-lg cursor-pointer transition-colors duration-200 hover:bg-neutral-700/80">
            <span class="text-sm text-gray-300">{{ playlist.name }}</span>
            <button (click)="deletePlaylist($event, playlist.id)" class="text-gray-500 text-xs hover:text-red-400 transition-colors">
              üóëÔ∏è
            </button>
          </div>
        } @empty {
          <p class="text-sm text-gray-500 text-center p-4">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤.</p>
        }
      </div>
    </div>
    
    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
    <div class="bg-neutral-800/50 p-4 rounded-xl border border-neutral-700/50 flex flex-col gap-3">
        <h3 class="font-serif text-xl text-gray-300">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π</h3>
        <input 
          type="text"
          [(ngModel)]="newPlaylistName"
          placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞"
          class="w-full p-2 bg-neutral-700 border border-neutral-600 text-gray-200 placeholder:text-gray-500 rounded-lg shadow-inner focus:ring-1 focus:ring-violet-500"
        />
        <input 
          type="url"
          [(ngModel)]="newPlaylistUrl"
          placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–ª–µ–π–ª–∏—Å—Ç Spotify"
          class="w-full p-2 bg-neutral-700 border border-neutral-600 text-gray-200 placeholder:text-gray-500 rounded-lg shadow-inner focus:ring-1 focus:ring-violet-500"
        />
        <button 
          (click)="addPlaylist()" 
          class="w-full mt-2 px-4 py-2 bg-violet-500 text-white text-sm font-semibold rounded-lg shadow-md hover:bg-violet-600 transition-all duration-300">
          –î–æ–±–∞–≤–∏—Ç—å
        </button>
    </div>
  </div>

</div>
